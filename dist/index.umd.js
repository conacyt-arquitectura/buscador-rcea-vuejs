!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fortawesome/fontawesome-svg-core"),require("@fortawesome/free-solid-svg-icons/faSearch"),require("@fortawesome/vue-fontawesome"),require("bootstrap-vue/es/components/alert/alert"),require("vue-property-decorator"),require("axios")):"function"==typeof define&&define.amd?define(["exports","@fortawesome/fontawesome-svg-core","@fortawesome/free-solid-svg-icons/faSearch","@fortawesome/vue-fontawesome","bootstrap-vue/es/components/alert/alert","vue-property-decorator","axios"],t):t((e=e||self)["buscador-rcea"]={},e.fontawesomeSvgCore,e.faSearch,e.vueFontawesome,e.bAlert,e.vuePropertyDecorator,e.axios)}(this,function(e,t,r,n,o,i,s){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o,s=s&&s.hasOwnProperty("default")?s.default:s;var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}var h={buscadorRcea:{search:"Search",searching:"Searching",notFound:"The person with rcea {rcea} was not found"}},f={buscadorRcea:{search:"Buscar",searching:"Buscando",notFound:"No se encontró a la persona con rcea {rcea}"}},p=function(){function e(e){this.baseApiUrl=e||"services/cvu/api"}return e.prototype.retrieveByCvu=function(e){var t=this;return new Promise(function(r,n){s.get(t.baseApiUrl+"/cvu/"+e).then(function(e){r(e.data)}).catch(function(e){n(e)})})},e.prototype.retrieveByRcea=function(e){var t=this;return new Promise(function(r,n){s.get(t.baseApiUrl+"/rcea/"+e).then(function(e){r(e.data)}).catch(function(e){return n(e)})})},e.prototype.retrieveByReniecyt=function(e){var t=this;return new Promise(function(r,n){s.get(t.baseApiUrl+"/reniecyt/"+e).then(function(e){r(e.data)}).catch(function(e){n(e)})})},e.prototype.retrieveByLogin=function(e){var t=this;return new Promise(function(r,n){s.get(t.baseApiUrl+"/personas/"+e).then(function(e){r(e.data)}).catch(function(e){return n(e)})})},e}();t.library.add(r.faSearch);var d=new(function(){return function(e){this.host=e}}()),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dismissCountDown=0,t.alertType="",t.alertMessage=null,t.searchKey="",t.searchedKey="",t.isSearching=!1,t}return function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.created=function(){this.initI18n()},Object.defineProperty(t.prototype,"options",{get:function(){return this.$RCEA_SEARCHER_DEFAULT_OPTIONS||d},enumerable:!0,configurable:!0}),t.prototype.search=function(){var e=this;this.searchKey&&(this.isSearching=!0,this.dismissCountDown=0,new p(this.options.host).retrieveByRcea(this.searchKey).then(function(t){e.searchedKey=e.searchKey+"",e.$emit("input",t),e.searchKey="",e.isSearching=!1}).catch(function(){e.$emit("input",null),e.searchedKey=e.searchKey+"",e.alertType="warning",e.alertMessage=e.$t("buscadorRcea.notFound",{rcea:e.searchedKey}),e.dismissCountDown=5,e.isSearching=!1}))},t.prototype.searchButtonDisabled=function(){return!this.searchKey||this.isSearching},t.prototype.initI18n=function(){this.$i18n&&(this.$i18n.mergeLocaleMessage("es",f),this.$i18n.mergeLocaleMessage("en",h))},u([i.Prop()],t.prototype,"value",void 0),t=u([i.Component({components:{"font-awesome-icon":n.FontAwesomeIcon,"b-alert":o}})],t)}(i.Vue);var m,v,y,b,g,w=(m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",variant:e.alertType},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":function(t){e.dismissCountDown=t}}},[e._t("message",[e._v(e._s(e.alertMessage))],{rcea:e.searchedKey})],2),e._v(" "),r("form",{attrs:{role:"search"},on:{submit:function(t){return t.preventDefault(),e.search()}}},[r("div",{staticClass:"form-group"}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchKey,expression:"searchKey",modifiers:{trim:!0}}],attrs:{type:"search",id:"rcea-search",name:"rcea-search"},domProps:{value:e.searchKey},on:{input:function(t){t.target.composing||(e.searchKey=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("span",[e._v(" ")]),e._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",id:"rcea-search-button",disabled:e.searchButtonDisabled()}},[e.isSearching?r("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):r("font-awesome-icon",{attrs:{icon:"search"}}),e._v(" "),e.isSearching?r("span",[e._v("\n         \n        "+e._s(e.$t("buscadorRcea.searching"))+"\n      ")]):r("span",[e._v("\n         \n        "+e._s(e.$t("buscadorRcea.search"))+"\n      ")])],1)])],1)},staticRenderFns:[]},y=void 0,b=!1,(g=("function"==typeof(v=l)?v.options:v)||{}).__file="buscador-rcea.vue",g.render||(g.render=m.render,g.staticRenderFns=m.staticRenderFns,g._compiled=!0,b&&(g.functional=!0)),g._scopeId=y,g),_=function(){return function(e,t){this.direccion=e,this.tipo=t}}(),R=function(){return function(e,t){this.id=e,this.nombre=t}}(),P=function(){return function(e,t,r,n,o){this.nombre=e,this.localidad=t,this.municipio=r,this.clave=n,this.entidadFederativa=o}}(),O=function(){return function(e,t,r,n,o,i,s,a,c,u,h,f,p,d,l,m){this.cvu=e,this.curp=t,this.titulo=r,this.nombre=n,this.apellidoPaterno=o,this.apellidoMaterno=i,this.rfc=s,this.genero=a,this.correo=c,this.login=u,this.gradoAcademico=h,this.nivelsni=f,this.instituciones=p,this.domicilios=d,this.paisResidencia=l,this.rcea=m}}(),S={install:function(e,t){var r=c(c({},d),t);e.prototype.$RCEA_SEARCHER_DEFAULT_OPTIONS=r,e.component("buscador-rcea",w)}};e.BuscadorRceaComponent=w,e.Domicilio=_,e.EntidadFederativa=R,e.Institucion=P,e.PersonaFisica=O,e.default=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
